# Prod Environment Variables Values (예제)
# 이 파일을 복사하여 terraform.tfvars 파일을 만들고 실제 값을 입력하세요
# terraform.tfvars 파일은 .gitignore에 포함되어 있어 Git에 올라가지 않습니다

account_id   = "YOUR_ACCOUNT_ID"
region       = "ap-northeast-2"
project_name = "passit"
environment  = "prod"

# Team & Owner
team  = "IAMConan"
owner = "Platform Team"

# Network Module Configuration
# 기존 VPC 사용 시 설정
use_existing_vpc = true
existing_vpc_id  = "vpc-XXXXXXXXXXXXXXXXX"  # 기존 VPC ID
existing_public_subnet_ids = [
  "subnet-XXXXXXXXXXXXXXXXX",  # 기존 Public Subnet (ap-northeast-2a)
  "subnet-XXXXXXXXXXXXXXXXX"  # 기존 Public Subnet (ap-northeast-2c)
]
existing_private_subnet_ids = [
  "subnet-XXXXXXXXXXXXXXXXX",  # 기존 Private App Subnet (ap-northeast-2a)
  "subnet-XXXXXXXXXXXXXXXXX"   # 기존 Private App Subnet (ap-northeast-2c)
]
existing_private_db_subnet_ids = [
  "subnet-XXXXXXXXXXXXXXXXX",  # 기존 Private DB Subnet (ap-northeast-2a)
  "subnet-XXXXXXXXXXXXXXXXX"   # 기존 Private DB Subnet (ap-northeast-2c)
]

# 새 VPC 생성 시 설정 (use_existing_vpc = false일 때 사용)
vpc_cidr = "10.2.0.0/16"  # Prod VPC CIDR (Dev는 10.1.0.0/16)
availability_zones = ["ap-northeast-2a", "ap-northeast-2c"]  # EKS 요구사항: 최소 2개 AZ
public_subnet_cidrs = ["10.2.1.0/24", "10.2.2.0/24"]  # Prod Public 2개 (AZ A, C)
private_subnet_cidrs = ["10.2.11.0/24", "10.2.12.0/24"]  # Prod Private App 2개 (AZ A, C)
private_db_subnet_cidrs = ["10.2.21.0/24", "10.2.22.0/24"]  # Prod Private DB 2개 (AZ A, C)
enable_nat_gateway = true
single_nat_gateway = false  # Prod 환경은 고가용성을 위해 각 AZ마다 NAT Gateway 생성

# EKS Cluster
cluster_name    = "passit-prod-eks"
cluster_version = "1.34"
eks_cluster_name = "passit-prod-eks"  # 기존 EKS 클러스터 이름 (EKS 생성 후 업데이트)

# EKS Node Group
node_instance_types = ["t3.large"]
capacity_type       = "ON_DEMAND"
node_min_size       = 3
node_desired_size   = 3
node_max_size       = 6

# 보안 그룹 설정: Prod 환경은 특정 IP 대역만 허용
# 예: 사무실 IP, VPN IP, ALB 등
# 실제 IP 주소를 입력하세요. 예: ["123.456.789.0/32", "98.76.54.32/32"]
# 전체 인터넷 허용 (ALB를 통한 접근): ["0.0.0.0/0"]
allowed_cidr_blocks = ["0.0.0.0/0"]

# Optional - Data Module용 (기존 리소스 사용 시)
# rds_security_group_id         = "sg-XXXXXXXXXXXXXXXXX"
# elasticache_security_group_id = "sg-XXXXXXXXXXXXXXXXX"
# elasticache_kms_key_id        = "arn:aws:kms:ap-northeast-2:YOUR_ACCOUNT_ID:key/XXXXXXXXXXXXXXXXX"

# Optional - 기존 리소스 이름 (이미 존재하는 리소스 사용 시)
# existing_db_subnet_group_name              = "passit-prod-rds-subnet-group"
# existing_rds_parameter_group_name          = "passit-prod-aurora-pg"
# existing_elasticache_subnet_group_name     = "passit-prod-valkey-subnet-group"
# existing_elasticache_parameter_group_name  = "passit-prod-valkey-pg"
