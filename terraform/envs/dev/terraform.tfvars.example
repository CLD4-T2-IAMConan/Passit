# Dev Environment Variables Values (예제)
# 이 파일을 복사하여 terraform.tfvars 파일을 만들고 실제 값을 입력하세요
# terraform.tfvars 파일은 .gitignore에 포함되어 있어 Git에 올라가지 않습니다

account_id   = "YOUR_ACCOUNT_ID"
region       = "ap-northeast-2"
project_name = "passit"
environment  = "dev"

# Team & Owner
team  = "IAMConan"
owner = "Platform Team"

# Network Module Configuration
# 기존 VPC 사용 시 설정 (use_existing_vpc = true일 때)
# use_existing_vpc = false  # Dev는 기본적으로 새 VPC 생성
# existing_vpc_id  = "vpc-XXXXXXXXXXXXXXXXX"  # 기존 VPC ID
# existing_public_subnet_ids = [
#   "subnet-XXXXXXXXXXXXXXXXX",  # 기존 Public Subnet (ap-northeast-2a)
#   "subnet-XXXXXXXXXXXXXXXXX"  # 기존 Public Subnet (ap-northeast-2c)
# ]
# existing_private_subnet_ids = [
#   "subnet-XXXXXXXXXXXXXXXXX",  # 기존 Private App Subnet (ap-northeast-2a)
#   "subnet-XXXXXXXXXXXXXXXXX"   # 기존 Private App Subnet (ap-northeast-2c)
# ]
# existing_private_db_subnet_ids = [
#   "subnet-XXXXXXXXXXXXXXXXX",  # 기존 Private DB Subnet (ap-northeast-2a)
#   "subnet-XXXXXXXXXXXXXXXXX"   # 기존 Private DB Subnet (ap-northeast-2c)
# ]

# 새 VPC 생성 시 설정 (use_existing_vpc = false일 때 사용, Dev 기본값)
vpc_cidr                = "10.1.0.0/16" # Dev VPC CIDR
availability_zones      = ["ap-northeast-2a", "ap-northeast-2c"]
public_subnet_cidrs     = ["10.1.2.0/24"]                  # Dev Public 1개 (AZ C)
private_subnet_cidrs    = ["10.1.11.0/24", "10.1.12.0/24"] # Dev Private App 2개 (AZ A, AZ C)
private_db_subnet_cidrs = ["10.1.22.0/24"]                 # Dev Private DB 1개 (AZ C)
enable_nat_gateway      = true
single_nat_gateway      = true  # Dev 환경은 비용 절감을 위해 단일 NAT Gateway 사용

# EKS Cluster
cluster_name    = "passit-dev-eks"
cluster_version = "1.34"
eks_cluster_name = ""  # Security 모듈용 (EKS 생성 후 업데이트)

# EKS Node Group
node_instance_types = ["t3.medium"]
capacity_type       = "ON_DEMAND"
node_min_size       = 2
node_desired_size   = 2
node_max_size       = 4

# 보안 그룹 설정: Dev 환경은 특정 IP 대역만 허용
# 예: 사무실 IP, VPN IP 등
# 실제 IP 주소를 입력하세요. 예: ["123.456.789.0/32", "98.76.54.32/32"]
# 개발 환경에서는 일시적으로 모든 IP 허용: ["0.0.0.0/0"]
allowed_cidr_blocks = ["0.0.0.0/0"]

# Optional - Data Module용 (기존 리소스 사용 시)
# rds_security_group_id         = "sg-XXXXXXXXXXXXXXXXX"
# elasticache_security_group_id = "sg-XXXXXXXXXXXXXXXXX"
# elasticache_kms_key_id        = "arn:aws:kms:ap-northeast-2:YOUR_ACCOUNT_ID:key/XXXXXXXXXXXXXXXXX"

# Optional - 기존 리소스 이름 (이미 존재하는 리소스 사용 시)
# existing_db_subnet_group_name              = "passit-dev-rds-subnet-group"
# existing_rds_parameter_group_name          = "passit-dev-aurora-pg"
# existing_elasticache_subnet_group_name     = "passit-dev-valkey-subnet-group"
# existing_elasticache_parameter_group_name  = "passit-dev-valkey-pg"

# =================================
# Secrets Manager Configuration
# =================================
# Database credentials (application-dev.yml 참고)
db_secrets = {
  db_host     = ""  # RDS 생성 후 자동 업데이트됨
  db_port     = "3306"
  db_name     = "passit_db"
  db_user     = "passit_user"
  db_password = "YOUR_DB_PASSWORD"  # 실제 DB 비밀번호 입력 필요
}

# SMTP credentials (Gmail 앱 비밀번호 필요)
smtp_secrets = {
  mail_username = "YOUR_EMAIL@gmail.com"  # 실제 Gmail 계정 입력 필요
  mail_password = "YOUR_APP_PASSWORD"    # Gmail 앱 비밀번호 입력 필요
}

# Kakao OAuth credentials (application.yml 참고)
kakao_secrets = {
  rest_api_key  = "YOUR_KAKAO_REST_API_KEY"   # 카카오 개발자 콘솔에서 발급
  client_secret = "YOUR_KAKAO_CLIENT_SECRET"  # 카카오 개발자 콘솔에서 발급
  admin_key     = "YOUR_KAKAO_ADMIN_KEY"       # 카카오 개발자 콘솔에서 발급
}

# Admin account credentials (application.yml 참고)
admin_secrets = {
  email    = "admin@passit.com"  # 초기 관리자 이메일
  password = "YOUR_ADMIN_PASSWORD"  # 초기 관리자 비밀번호 (강력한 비밀번호 권장)
  name     = "Administrator"
  nickname = "admin"
}

# Application secrets (JWT, API keys)
app_secrets = {
  jwt_secret = "YOUR_JWT_SECRET"  # JWT 서명용 비밀키 (강력한 랜덤 문자열 권장)
  api_key    = "YOUR_API_KEY"     # API 인증용 키 (필요시)
}

# ElastiCache credentials
elasticache_secrets = {
  auth_token = ""  # ElastiCache 인증 토큰 (필요시 설정)
}

# =========================
# S3
# =========================

# 기존 코드 호환용
s3_bucket_profile  = "profile-images"
s3_bucket_ticket   = "ticket-images"
s3_bucket_frontend = "frontend"

# Terraform 관리 S3 버킷 목록
# 실제 버킷명: passit-${environment}-${name}
s3_buckets = [
  {
    name               = "uploads"
    versioning_enabled = true
    lifecycle_rules    = []
  },
  {
    name               = "backup"
    versioning_enabled = true
    lifecycle_rules    = []
  },
  {
    name               = "logs"
    versioning_enabled = true
    lifecycle_rules    = []
  },
  {
    name               = "profile-images"
    versioning_enabled = false
    lifecycle_rules    = []
  },
  {
    name               = "ticket-images"
    versioning_enabled = false
    lifecycle_rules    = []
  }
]