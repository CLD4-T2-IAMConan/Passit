service-cs:
  image: ghcr.io/cld4-t2-iamconan/service-cs:latest
  container_name: passit-service-cs
  platform: linux/amd64
  ports:
    - "${CS_PORT:-8080}:8080"
  environment:
    DB_HOST: mysql
    DB_PORT: 3306
    DB_NAME: ${DB_NAME:-passit_db}
    DB_USER: ${MYSQL_USER:-passit_user}
    DB_PASSWORD: ${MYSQL_PASSWORD:-passit_password}
  depends_on:
    mysql:
      condition: service_healthy
  networks:
    - passit-network
  healthcheck:
    test: ["CMD", "curl", "-f", "http://localhost:8080/api/health"]
    interval: 30s
    timeout: 10s
    retries: 3
    start_period: 40s